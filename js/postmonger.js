!function(e,t){"function"==typeof define&&define.amd?define("postmonger",[],function(){return t(e)}):"object"==typeof exports?module.exports=t(e):e.Postmonger=t(e)}(this,function(e){var t="1.0.0",n=function(e,t,n){return t===n?!1:(t instanceof Array||t instanceof Object)&&(typeof t==typeof n&&Object.keys(t).length===Object.keys(n).length)?Object.keys(t).every(function(o){return n.hasOwnProperty(o)?t[o]instanceof Array?t[o].every(function(e,t){return e===n[o][t]}):t[o]===n[o]:!1}):!1},o=function(){var e=Array.prototype.slice.call(arguments,0);return this instanceof o?this.c={}:new o},t={on:function(e,t,n){var o=this;return"undefined"==typeof o.c[e]&&(o.c[e]=[]),o.c[e].push({l:t,t:n}),{event:e,listener:t}},off:function(e){var t=this;return e&&e.event&&e.listener?void delete t.c[e.event]:void(t.c={})},trigger:function(e,t){var o=this;if("undefined"!=typeof o.c[e]){var r=o.c[e].slice(0);setTimeout(function(){var e;for(e=0;e<r.length;e++){var c=r[e];if(c&&c.l){var i=c.l.apply(c.t,t);n(null,i,[!1])&&(r.splice(e,1),e--)}}},"asynchronous"===o.mode?10:0)}}};return o.prototype.on=t.on,o.prototype.off=t.off,o.prototype.trigger=t.trigger,o.prototype.version=function(){return t},o.prototype.ready=function(e){var t=this;t.trigger("ready",[e])},o});